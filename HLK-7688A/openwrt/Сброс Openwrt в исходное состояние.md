[Сброс Openwrt в исходное состояние](https://blog.xsk.in/it/sbros-openwrt-v-ishodnoe-sostoyanie/630)



Очистить JFFS2 и освободить место в флеш-памяти роутера, удалив установленный софт, можно тремя способами:

1)firstboot

2)mtd -r erase rootfs_data #авторебут в процессе

3)rm -r /overlay/*

Нудная теория

В Openwrt существует аналог заводского сброса к начальным настройкам.
 Помимо доступной только для чтения области флеш-памяти SquashFS,
 которая при загрузке монтируется в /rom и содержит исходный образ системы,
 имеется файловая система с доступом на запись JFFS2.
 Она монтируется в /overlay и представляет из себя изменения исходных файлов в процессе работы с системой.
 То есть все установленные пакеты и настройки содержатся именно здесь, а первоначально эта файловая система пустая.
 Содержимое же рабочей системы после загрузки получается путем наложения содержимого /rom и /overlay в каталог /.


Ссылки:

[OpenWrt Failsafe](http://wiki.openwrt.org/doc/howto/generic.failsafe)

[Возврат OpenWRT к начальной конфигурации](http://ru-wrt.livejournal.com/7892.html)
